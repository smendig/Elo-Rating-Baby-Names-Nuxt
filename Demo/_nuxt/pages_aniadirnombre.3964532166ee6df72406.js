webpackJsonp([2],{"6Ptt":function(e,t,a){"use strict";t.a={malas:function(e){var t=e.toLowerCase();return!["pis"].every(function(e){return!t.startsWith(e)})||!["caca","kak","teta","culo","puta","puto","almor","gord"].every(function(e){return!t.includes(e)})}}},"AQE+":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"",""])},DS0g:function(e,t,a){var n=a("AQE+");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("rjj0").default)("60a72442",n,!1,{sourceMap:!1})},YFWx:function(e,t,a){"use strict";var n=a("mtWM"),r=(a.n(n),{});t.a=n.create(r)},"ch+S":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("xIKU"),r=a("o4bM"),s=!1;var i=function(e){s||a("DS0g")},o=a("VU/8")(n.a,r.a,!1,i,"data-v-ee6ff50a",null);o.options.__file="pages\\aniadirnombre.vue",t.default=o.exports},o4bM:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"grid-list-md":""}},[a("h1",[e._v("Añadir nombre")]),a("h3",[e._v("Puedes añadir aquí nombres para que se incluyan en entre las opciones de votar. Incluye nombre que te guste y no esté en la lista.")]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{ref:"nameinput",attrs:{label:"Nombre a añadir",rules:e.nameRules,counter:20,required:""},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}}),a("v-btn",{attrs:{disabled:!e.valid},on:{click:e.aniadirNombre}},[e._v("Añadir")])],1),a("v-alert",{attrs:{type:"success",value:e.addedShow,transition:"scale-transition"}},[e._v("Nombre añadido")]),a("v-alert",{attrs:{type:"info",value:e.existsShow,transition:"scale-transition"}},[e._v("Ya existe el nombre")])],1)};n._withStripped=!0;var r={render:n,staticRenderFns:[]};t.a=r},xIKU:function(e,t,a){"use strict";var n=a("YFWx"),r=a("6Ptt");t.a={components:{},data:function(){return{valid:!0,nombre:"",nameRules:[function(e){return e&&e.length>2||"El nombre es demasiado corto"},function(e){return e&&e.length<=20||"El nombre es demasiado largo"},function(e){return e&&!r.a.malas(e.trim())||""}],waitingServerResponse:!1,addedShow:!1,existsShow:!1}},computed:{nameList:function(){return this.$store.state.nameList},username:function(){return this.$store.state.per.username},prevu:function(){return this.$store.state.per.prevu}},created:function(){},methods:{aniadirNombre:function(){var e=this;this.waitingServerResponse||(this.existsShow=!1,this.addedShow=!1,this.waitingServerResponse=!0,n.a.post("/api/addname",{uname:this.username,prevu:this.prevu,name:this.nombre}).then(function(t){e.$store.commit("setNamelist",t.data),e.addedShow=!0,e.waitingServerResponse=!1,e.$refs.nameinput.reset()}).catch(function(t){t.response&&409===t.response.status&&(e.existsShow=!0),e.waitingServerResponse=!1}))}},watch:{},transition:"fadeoutfast"}}});